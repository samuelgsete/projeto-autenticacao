<div class="confirm-recover">
    <div class="progress-bar" *ngIf="loading">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
    <div class="about">
        <img src="/assets/img/avatar/note.png" alt="usuario" width="80px" height="80px">
        <h1>Quase tudo pronto</h1>
        <p><mdb-icon fas icon="quote-left"></mdb-icon> Muito bem, se acesso está bem perto de ser restabelecido. Lembre de fornecer uma senha fácil de ser lembrada por você. Caso não tenha recebido o código de verificação clique no botão abaixo para solicitar o reenvio <mdb-icon fas icon="quote-right"></mdb-icon></p>
        <button mdbBtn type="button" color="indigo" outline="true" mdbWavesEffect>REENVIAR CÓDIGO</button> 
    </div>
    <div class="main z-depth-2">
        <div class="header">
            <img src="/assets/img/avatar/avatar-user.png" alt="usuario" width="80px" height="80px">
            <h6>Recuperação de conta</h6>
            <p>Atualize seus dados</p>
            <mdb-badge style="font-size: 13px; font-weight: normal;" pill="true" primary="true">{{ email }}</mdb-badge>  
        </div>
        <div class="body">
            <form [formGroup]="form">
                <p>
                    Olá, {{ name }} forneça o código de verificação enviado ao seu email, em seguida informe a nova senha de sua preferência. Atenção, se o código de verificação estiver incorreto seus dados não serão atualizados.
                </p>
                <mat-form-field class="input-width" appearance="outline">
                    <mat-label>Código</mat-label>
                    <input formControlName="code" matInput autofocus required>
                    <mat-icon matSuffix>code</mat-icon>
                    <mat-error>Por favor insira o código corretamente</mat-error>
                </mat-form-field>
                <mat-form-field class="input-width" appearance="outline">
                    <mat-label>Nova senha</mat-label>
                    <input type="password" formControlName="newPassword" matInput autofocus required>
                    <mat-icon matSuffix>https</mat-icon>
                    <mat-error>Por favor insira o senha corretamente</mat-error>
                </mat-form-field>
                <button class="z-depth-0" mdbBtn type="button" block="true" color="indigo" [disabled]="!form.valid" (click)="updateUser()" mdbWavesEffect>ATUALIZAR DADOS</button>
            </form>
        </div>
        <div class="footer">
            <hr>
            <p>© 2020 Todos os direitos autorais estão reservados</p>
        </div>
    </div>
</div>